# Forms-and-CGI

## FORM Element and Some Attributes

* Syntax ...
* Attribute Specifications
  * ACTION=URI \(form handler\)
  * METHOD=\[ get \| post \] \(HTTP method for submitting form\)
    * GET is the default; form contents are appended to the URL
    * POST form contents to be sent as payload
  * ENCTYPE=ContentType \(content type to submit form as\)
    * Defaults to application/x-www-urlencoded which returns name/value pairs, separated by &, spaces replaced by + and reserved characters \(like \#\) replaced by %HH, H a hex digit
  * ACCEPT-CHARSET=Charsets \(supported character encodings\)
  * TARGET=FrameTarget \(frame to render form result in, in HTML4\) \(a browsing context name or keyword, in HTML5, such as \_self, \_blank, \_parent, \_top, iframename\)
  * ONSUBMIT=Script \(form was submitted\)
  * ONRESET=Script \(form was reset\)
    * AUTOCOMPLETE \(HTML5 ONLY\) values completed by browser

## Inside Form Tag

* \
* \
* \
  * \

## FIELDSET – Form Control Group

* The FIELDSET element defines a form control group.
  * By grouping related form controls, authors can divide a form into smaller, more manageable parts, improving the usability problem that can strike when confronting users with too many form controls.
  * The grouping provided by FIELDSET also helps the accessibility of forms to those using aural browsers by allowing these users to more easily orient themselves when filling in a large form.
* The content of a FIELDSET element must begin with a LEGEND to provide a caption for the group of controls. Following the LEGEND, FIELDSET may contain any HTML element, including another FIELDSET.

## Purpose of the CGI

* Common Gateway Interface \(CGI\) is a mechanism by which programs, called scripts, can be used to create dynamic Web documents
  * Scripts are placed in a server directory often named cgi-bin
  * Scripts can deliver information that is not directly readable by clients
    * Scripts dynamically convert data from a nonWeb source \(e.g. DBMS\) into a Web-compatible document

## CGI Environment Variables

* Environment variables
  * are a set of pre-defined dynamic values that can affect a running program
  * they are generally part of the operating environment in which a program runs;
  * UNIX \(its variants\) and Windows all use these as a means of passing information about the environment of a process
  * CGI environment variables are created by the web server and set immediately before the web server executes a gateway script
  * the CGI script can retrieve the values and use the data they send
* Can be classified into two major categories:
  * Non-request specific: environment variables are the same for all requests:
  * Request-specific environment variables:  These variables are set depending on each request
* Also, every item of information in an HTTP request header is stored in an environment variable
  * Capitalize the name in the request header field
  * Convert dashes to underscores
  * Add the prefix HTTP\_

## CGI Script Output

* The script sends its output to stdout; the server adds appropriate headers and returns this output to the client
* Output from a script to the server could be:
  * A document generated by a script
  * The type of document could be: HTML, plain text, image, video or audio clip, and many other types
  * Instructions to the server for retrieving the desired output elsewhere
  * an error indicator

## Server Directives

* The output of scripts begins with a small header consisting of text lines containing server directives
  * This must be followed by a blank line
* Any headers that are not server directives are sent directly back to the client
* Server directives are used by CGI scripts to inform the server about the type of output
* The current CGI specification defines three server directives:

  – Content-type

  – Location

  – Status

* Content-type: type/subtype
  * The MIME \(Multipurpose Internet Mail Extensions\) type of the document being returned
  * For example, content-type: text/html \(HTML document\) content-type: text/plain \(plain-text document\)
* Location:
  * Alerts the server that the script is returning a reference to a document, not an actual document
  * If the argument is a URL, the server will issue a redirect to the client; for example,
  * If the argument is a path, the document specified will be retrieved by the server, starting at the document root; for example,
* Status:
  * This is used to give the server an HTTP/1.1 status line to send to the client
  * The format is nnn xxxx, where
    * nnn is the three-digit status code
    * xxxx is the informative message

## Things to Check Before Running CGI Scripts

* The following need to be readable and executable by the server
  * CGI scripts
  * Other programs that the scripts call
  * The directory in which the scripts reside
* In UNIX, check the read/write/execute permissions of the files and directories
* In Windows, check the web server settings of the script directories

